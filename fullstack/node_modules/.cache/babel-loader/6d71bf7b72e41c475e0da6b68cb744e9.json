{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\FullStack\\\\fullStack1\\\\fullstack\\\\src\\\\views\\\\AllMovies.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport moviesUtils from '../utils/moviesUtils';\nimport MovieComp from './Movie';\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AllMoviesComp() {\n  _s();\n\n  const [movies, setMovies] = useState([]);\n  const [addMovie, setAddMovie] = useState(false);\n  const [movie, setMovie] = useState({});\n  const storeData = useSelector(state => state);\n  const [permissions, setPermissions] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    async function fetchData() {\n      let allMovies = await moviesUtils.allMovies();\n      setMovies(allMovies);\n      dispatch({\n        type: \"MOVIES\",\n        payload: allMovies\n      });\n    }\n\n    fetchData();\n  }, []);\n  useEffect(() => {\n    async function fetchData() {\n      setPermissions(storeData.user.Permissions);\n    }\n\n    fetchData();\n  }, [storeData.user.Permissions]);\n\n  const addNewMovie = async () => {\n    await moviesUtils.addMovie(movie);\n    setAddMovie(!addMovie);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this), permissions.includes(\"Create Movies\") && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: e => setAddMovie(!addMovie),\n        children: \"Add Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 83\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 88\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: addMovie && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"300px\",\n          borderWidth: \"3px\",\n          borderStyle: \"solid\",\n          borderColor: \"black\"\n        },\n        children: [\"Name : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Name\",\n          required: true,\n          onChange: e => setMovie({ ...movie,\n            Name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 20\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 111\n        }, this), \"Genres : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Genres\",\n          required: true,\n          onChange: e => setMovie({ ...movie,\n            Genres: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 116\n        }, this), \"Image URL : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Image\",\n          required: true,\n          onChange: e => setMovie({ ...movie,\n            Image: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 117\n        }, this), \"Premiered : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Date\",\n          required: true,\n          name: \"Premiered\",\n          onChange: e => setMovie({ ...movie,\n            Premiered: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 137\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Save\",\n          onClick: addNewMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => setAddMovie(!addMovie),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 88\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 93\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 14\n    }, this), movies.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(MovieComp, {\n          movie: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 65\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 18\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AllMoviesComp, \"T8g59sNZv1qPjBQ+eVFRbBPIxI8=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = AllMoviesComp;\nexport default AllMoviesComp;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllMoviesComp\");","map":{"version":3,"sources":["C:/Users/User/FullStack/fullStack1/fullstack/src/views/AllMovies.js"],"names":["useState","useEffect","moviesUtils","MovieComp","useSelector","useDispatch","AllMoviesComp","movies","setMovies","addMovie","setAddMovie","movie","setMovie","storeData","state","permissions","setPermissions","dispatch","fetchData","allMovies","type","payload","user","Permissions","addNewMovie","includes","e","width","borderWidth","borderStyle","borderColor","Name","target","value","Genres","Image","Premiered","map","item","_id"],"mappings":"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","sourcesContent":["import {useState, useEffect} from 'react'\r\nimport moviesUtils from '../utils/moviesUtils'\r\nimport MovieComp from './Movie'\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction AllMoviesComp() {\r\n\r\n    const [movies, setMovies] = useState([])\r\n    const [addMovie, setAddMovie] = useState(false)\r\n    const [movie, setMovie] = useState({})\r\n    const storeData = useSelector(state => state)\r\n    const [permissions, setPermissions] = useState([])\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n      async function fetchData() {\r\n        let allMovies =await moviesUtils.allMovies();\r\n        setMovies(allMovies)\r\n        dispatch({type : \"MOVIES\" , payload :allMovies}) }\r\n      fetchData();\r\n    },[])\r\n\r\n    useEffect(() => {\r\n      async function fetchData() {\r\n     setPermissions(storeData.user.Permissions)}\r\n     fetchData();\r\n    },[storeData.user.Permissions])\r\n\r\n    const addNewMovie= async()=>{\r\n      await moviesUtils.addMovie(movie);\r\n      setAddMovie(!addMovie)\r\n    }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n    <h1>Movies</h1>\r\n\r\n    {permissions.includes(\"Create Movies\") &&\r\n    <div>\r\n    <button type=\"button\" onClick={e => setAddMovie(!addMovie)}>Add Movie</button><br/><br/>\r\n    </div>\r\n    }\r\n \r\n    <div>\r\n      {addMovie&&\r\n            <div style={{width:\"300px\", borderWidth : \"3px\", borderStyle : \"solid\", borderColor : \"black\"}}>\r\n        \r\n            Name : <input name=\"Name\" required onChange={e => setMovie({...movie, Name : e.target.value})} /> <br/>\r\n            Genres : <input name=\"Genres\" required onChange={e => setMovie({...movie, Genres : e.target.value})} /><br/>\r\n            Image URL : <input name=\"Image\" required onChange={e => setMovie({...movie, Image : e.target.value})} /><br/>\r\n            Premiered : <input type=\"Date\" required name=\"Premiered\" onChange={e => setMovie({...movie, Premiered : e.target.value})} /><br/>\r\n      \r\n            <input type=\"submit\" value=\"Save\" onClick={addNewMovie}/>\r\n            <button type=\"button\" onClick={e => setAddMovie(!addMovie)}>Cancel</button><br/><br/>\r\n      </div>\r\n      }\r\n  </div><br/><br/>\r\n    {\r\n      movies.map(item =>\r\n        {\r\n          return <div key={item._id}><MovieComp  movie={item} /><br/></div> \r\n        })\r\n    }\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllMoviesComp;\r\n"]},"metadata":{},"sourceType":"module"}
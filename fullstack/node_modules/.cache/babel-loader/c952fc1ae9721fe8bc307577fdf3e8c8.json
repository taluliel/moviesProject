{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\FullStack\\\\fullStack1\\\\fullstack\\\\src\\\\views\\\\main.js\",\n    _s = $RefreshSig$();\n\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useSelector } from \"react-redux\";\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport LoginComp from './login';\nimport AllMembersComp from './AllMembers';\nimport AllMoviesComp from './AllMovies';\nimport AllUsersComp from './UsersManagement';\nimport { useDispatch } from \"react-redux\";\nimport MemberComp from './Member';\nimport MovieComp from './Movie';\nimport Box from '@mui/material/Box';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LinkTab(props) {\n  return /*#__PURE__*/_jsxDEV(Tab, {\n    component: \"a\",\n    onClick: event => {\n      event.preventDefault();\n    },\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n\n_c = LinkTab;\n\nfunction MainComp() {\n  _s();\n\n  const [user, setUser] = useState({\n    userData: {},\n    permissions: [],\n    Role: ''\n  });\n  const dispatch = useDispatch();\n  const storeData = useSelector(state => state);\n  const [value, setValue] = React.useState(0);\n  useEffect(() => {\n    async function fetchData() {\n      let data = await axios.get(\"http://localhost:8000/api/main\");\n      console.log(data);\n    }\n\n    fetchData();\n  }, []);\n  useEffect(() => {\n    async function fetchData() {\n      setUser({ ...user,\n        userData: storeData.user,\n        permissions: storeData.user.Permissions,\n        Role: storeData.user.Role\n      });\n    }\n\n    fetchData();\n  }, [storeData]);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Movies - Subscriptions Web Site \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), \"Welcome \", user.userData.userName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 40\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"nav tabs example\",\n        children: [/*#__PURE__*/_jsxDEV(LinkTab, {\n          label: \"All Movies\",\n          href: \"/movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(LinkTab, {\n          label: \"All Memebers\",\n          href: \"/members\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(LinkTab, {\n          label: \"Users Management\",\n          href: \"/users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), user.permissions && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [user.permissions.includes(\"View Movies\") && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/movies\",\n          children: \"All Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 12\n      }, this), user.permissions.includes(\"View Subscriptions\") && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/members\",\n          children: \"All Memebers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 14\n      }, this), user.Role === \"admin\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/users\",\n          children: \"Users Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          onClick: () => dispatch({\n            type: \"LOGOUT\",\n            payload: {}\n          }),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: LoginComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        component: LoginComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/movies\",\n        component: AllMoviesComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/members\",\n        component: AllMembersComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/member/:id\",\n        component: MemberComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/movie/:id\",\n        component: MovieComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/users\",\n        component: AllUsersComp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MainComp, \"nL3VtX6Gy6st9raLehlSEWMFjkI=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = MainComp;\nexport default MainComp;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LinkTab\");\n$RefreshReg$(_c2, \"MainComp\");","map":{"version":3,"sources":["C:/Users/User/FullStack/fullStack1/fullstack/src/views/main.js"],"names":["Switch","Route","Link","useState","useSelector","useEffect","axios","LoginComp","AllMembersComp","AllMoviesComp","AllUsersComp","useDispatch","MemberComp","MovieComp","Box","Tabs","Tab","LinkTab","props","event","preventDefault","MainComp","user","setUser","userData","permissions","Role","dispatch","storeData","state","value","setValue","React","fetchData","data","get","console","log","Permissions","handleChange","newValue","userName","width","includes","type","payload"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,QAAoC,kBAApC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,SAAtB;AACA,OAAOC,cAAP,MAA2B,cAA3B;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,OAAOC,SAAP,MAAsB,SAAtB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;;;AAGA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,sBACE,QAAC,GAAD;AACE,IAAA,SAAS,EAAC,GADZ;AAEE,IAAA,OAAO,EAAGC,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACC,cAAN;AACD,KAJH;AAAA,OAKMF;AALN;AAAA;AAAA;AAAA;AAAA,UADF;AASD;;KAVQD,O;;AAaT,SAASI,QAAT,GAAoB;AAAA;;AAElB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC;AAACqB,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,WAAW,EAAE,EAA5B;AAAgCC,IAAAA,IAAI,EAAE;AAAtC,GAAD,CAAhC;AACA,QAAMC,QAAQ,GAAGhB,WAAW,EAA5B;AACA,QAAMiB,SAAS,GAAGxB,WAAW,CAACyB,KAAK,IAAIA,KAAV,CAA7B;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,KAAK,CAAC7B,QAAN,CAAe,CAAf,CAA1B;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAe4B,SAAf,GAA2B;AAC1B,UAAIC,IAAI,GAAC,MAAM5B,KAAK,CAAC6B,GAAN,CAAU,gCAAV,CAAf;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAAkB;;AAClBD,IAAAA,SAAS;AACV,GALQ,EAKN,EALM,CAAT;AAQA5B,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAe4B,SAAf,GAA2B;AAC3BV,MAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAAUE,QAAAA,QAAQ,EAAEI,SAAS,CAACN,IAA9B;AAAoCG,QAAAA,WAAW,EAACG,SAAS,CAACN,IAAV,CAAegB,WAA/D;AAA6EZ,QAAAA,IAAI,EAACE,SAAS,CAACN,IAAV,CAAeI;AAAjG,OAAD,CAAP;AAAiH;;AACjHO,IAAAA,SAAS;AACV,GAJQ,EAIP,CAACL,SAAD,CAJO,CAAT;;AAMA,QAAMW,YAAY,GAAG,CAACpB,KAAD,EAAQqB,QAAR,KAAqB;AACxCT,IAAAA,QAAQ,CAACS,QAAD,CAAR;AACD,GAFD;;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,cAEWlB,IAAI,CAACE,QAAL,CAAciB,QAFzB,oBAEmC;AAAA;AAAA;AAAA;AAAA,YAFnC,eAIE,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAT;AAAA,6BACA,QAAC,IAAD;AAAM,QAAA,KAAK,EAAEZ,KAAb;AAAoB,QAAA,QAAQ,EAAES,YAA9B;AAA4C,sBAAW,kBAAvD;AAAA,gCACE,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,YAAf;AAA4B,UAAA,IAAI,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,cAAf;AAA8B,UAAA,IAAI,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,kBAAf;AAAkC,UAAA,IAAI,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAJF,EAWGjB,IAAI,CAACG,WAAL,iBACC;AAAA,iBAEIH,IAAI,CAACG,WAAL,CAAiBkB,QAAjB,CAA0B,aAA1B,kBACD;AAAA,+BAAQ,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cAHH,EAKGrB,IAAI,CAACG,WAAL,CAAiBkB,QAAjB,CAA0B,oBAA1B,kBACE;AAAA,+BAAQ,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cANL,EAQGrB,IAAI,CAACI,IAAL,KAAc,OAAd,iBACA;AAAA,+BAAQ,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cATH,eAWC;AAAA,+BAAQ,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAa,UAAA,OAAO,EAAE,MAAKC,QAAQ,CAAC;AAACiB,YAAAA,IAAI,EAAG,QAAR;AAAmBC,YAAAA,OAAO,EAAG;AAA7B,WAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cAXD;AAAA;AAAA;AAAA;AAAA;AAAA,YAZJ,eA2BA,QAAC,MAAD;AAAA,8BACQ,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAEtC;AAAjC;AAAA;AAAA;AAAA;AAAA,cADR,eAEQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAEA;AAAhC;AAAA;AAAA;AAAA;AAAA,cAFR,eAGQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,SAAS,EAAEE;AAAjC;AAAA;AAAA;AAAA;AAAA,cAHR,eAIQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,SAAS,EAAED;AAAlC;AAAA;AAAA;AAAA;AAAA,cAJR,eAKQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,SAAS,EAAEI;AAArC;AAAA;AAAA;AAAA;AAAA,cALR,eAMQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,YAAZ;AAAyB,QAAA,SAAS,EAAEC;AAApC;AAAA;AAAA;AAAA;AAAA,cANR,eAOQ,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,SAAS,EAAEH;AAAhC;AAAA;AAAA;AAAA;AAAA,cAPR;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuCD;;GAlEQW,Q;UAGUV,W,EACCP,W;;;MAJXiB,Q;AAoET,eAAeA,QAAf","sourcesContent":["import { Switch, Route, Link } from 'react-router-dom';\r\nimport { useState } from 'react'\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport LoginComp from './login';\r\nimport AllMembersComp from './AllMembers';\r\nimport AllMoviesComp from './AllMovies';\r\nimport AllUsersComp from './UsersManagement';\r\nimport { useDispatch } from \"react-redux\";\r\nimport MemberComp from './Member';\r\nimport MovieComp from './Movie';\r\nimport Box from '@mui/material/Box';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\n\r\nfunction LinkTab(props) {\r\n  return (\r\n    <Tab\r\n      component=\"a\"\r\n      onClick={(event) => {\r\n        event.preventDefault();\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\n\r\nfunction MainComp() {\r\n\r\n  const [user, setUser] = useState({userData: {}, permissions: [], Role: ''})\r\n  const dispatch = useDispatch()\r\n  const storeData = useSelector(state => state)\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n     let data=await axios.get(\"http://localhost:8000/api/main\");\r\n    console.log(data)}\r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n    setUser({...user, userData: storeData.user ,permissions:storeData.user.Permissions , Role:storeData.user.Role })}\r\n    fetchData();\r\n  },[storeData]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Movies - Subscriptions Web Site </h1>\r\n      Welcome {user.userData.userName} <br/>\r\n\r\n      <Box sx={{ width: '100%' }}>\r\n      <Tabs value={value} onChange={handleChange} aria-label=\"nav tabs example\">\r\n        <LinkTab label=\"All Movies\" href=\"/movies\" />\r\n        <LinkTab label=\"All Memebers\" href=\"/members\" />\r\n        <LinkTab label=\"Users Management\" href=\"/users\" />\r\n      </Tabs>\r\n    </Box>\r\n      {user.permissions &&\r\n        <div>\r\n          {\r\n            user.permissions.includes(\"View Movies\") &&\r\n           <button><Link to=\"/movies\">All Movies</Link></button> \r\n          }\r\n          {user.permissions.includes(\"View Subscriptions\") &&\r\n             <button><Link to=\"/members\">All Memebers</Link></button>}\r\n\r\n          {user.Role === \"admin\" &&\r\n           <button><Link to=\"/users\">Users Management</Link></button> \r\n          }\r\n         <button><Link to=\"/\" onClick={()=> dispatch({type : \"LOGOUT\" , payload : {}})}>Log Out</Link></button> \r\n        </div>\r\n      }\r\n\r\n    <Switch>\r\n            <Route exact path=\"/\" component={LoginComp} />\r\n            <Route path=\"/login\" component={LoginComp} />\r\n            <Route path=\"/movies\" component={AllMoviesComp} />\r\n            <Route path=\"/members\" component={AllMembersComp} />\r\n            <Route path=\"/member/:id\" component={MemberComp} />\r\n            <Route path=\"/movie/:id\" component={MovieComp} />\r\n            <Route path=\"/users\" component={AllUsersComp} />\r\n        </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainComp;\r\n"]},"metadata":{},"sourceType":"module"}
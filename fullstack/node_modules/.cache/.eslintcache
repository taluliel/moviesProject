[{"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\index.js":"1","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\App.js":"2","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\reportWebVitals.js":"3","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\login.js":"4","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\main.js":"5","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\AllMembers.js":"6","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\AllMovies.js":"7","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\moviesUtils.js":"8","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\Movie.js":"9","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\Member.js":"10","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\membersUtils.js":"11","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\loginUtils.js":"12","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\UsersManagement.js":"13","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\User.js":"14","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\UsersUtils.js":"15","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\appReducer.js":"16","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\subscriptionsUtils.js":"17","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\CreateAccount.js":"18"},{"size":742,"mtime":1629973649047,"results":"19","hashOfConfig":"20"},{"size":167,"mtime":1632665907862,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"20"},{"size":1590,"mtime":1635245691511,"results":"23","hashOfConfig":"20"},{"size":3543,"mtime":1635258170792,"results":"24","hashOfConfig":"20"},{"size":2368,"mtime":1635245740017,"results":"25","hashOfConfig":"20"},{"size":3496,"mtime":1635493900698,"results":"26","hashOfConfig":"20"},{"size":978,"mtime":1630330957165,"results":"27","hashOfConfig":"20"},{"size":4993,"mtime":1635436461904,"results":"28","hashOfConfig":"20"},{"size":6857,"mtime":1634029882052,"results":"29","hashOfConfig":"20"},{"size":1015,"mtime":1630328717726,"results":"30","hashOfConfig":"20"},{"size":884,"mtime":1633853222282,"results":"31","hashOfConfig":"20"},{"size":7037,"mtime":1634028914060,"results":"32","hashOfConfig":"20"},{"size":3758,"mtime":1634040282424,"results":"33","hashOfConfig":"20"},{"size":783,"mtime":1633848275558,"results":"34","hashOfConfig":"20"},{"size":322,"mtime":1634028103060,"results":"35","hashOfConfig":"20"},{"size":1344,"mtime":1630402450379,"results":"36","hashOfConfig":"20"},{"size":1593,"mtime":1633854719819,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1xspmgl",{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\index.js",[],["77","78"],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\App.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\reportWebVitals.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\login.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\main.js",["79","80"],"import { Switch, Route, Link, useLocation } from 'react-router-dom';\r\nimport { useState,useEffect  } from 'react'\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport axios from 'axios'\r\nimport LoginComp from './login';\r\nimport AllMembersComp from './AllMembers';\r\nimport AllMoviesComp from './AllMovies';\r\nimport moviesUtils from '../utils/moviesUtils'\r\nimport AllUsersComp from './UsersManagement';\r\nimport CreateAccountComp from './CreateAccount';\r\nimport MemberComp from './Member';\r\nimport MovieComp from './Movie';\r\nimport {Box, Tabs, Tab, Paper, ImageList, ImageListItem, } from '@material-ui/core'\r\n\r\n\r\nfunction MainComp() {\r\n\r\n  const [user, setUser] = useState({userData: {}, permissions: [], Role: ''})\r\n  const dispatch = useDispatch()\r\n  const storeData = useSelector(state => state)\r\n  const [value, setValue] =useState(0);\r\n  const location = useLocation();\r\n  const [movies, setMovies] = useState([])\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n    await axios.get(\"http://localhost:8000/api/main\");}\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n    let allMovies = await moviesUtils.allMovies();\r\n    setMovies(allMovies.splice(0, 12))}\r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n    setUser({...user, userData: storeData.user ,permissions:storeData.user.Permissions , Role:storeData.user.Role })}\r\n    fetchData();\r\n  },[storeData]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h2>Movies - Subscriptions Web Site </h2>\r\n      Welcome {user.userData.userName} <br/>\r\n\r\n      <Box sx={{ Width: '100%' }}>\r\n      <Paper>\r\n            <Tabs\r\n               value={value} onChange={handleChange}\r\n              centered\r\n            >\r\n   \r\n      {user.permissions &&\r\n        <div>\r\n          {\r\n            user.permissions.includes(\"View Movies\") &&\r\n            <Tab label=\"All Movies\" to=\"/movies\" component={Link} />\r\n          }\r\n          {user.permissions.includes(\"View Subscriptions\") &&\r\n           <Tab label=\"All Memebers\" to=\"/members\" component={Link} />}\r\n\r\n          {user.Role === \"admin\" &&\r\n          <Tab label=\"Users Management\" to=\"/users\" component={Link} />}\r\n\r\n          <Tab label=\"Log Out\" to=\"/\" component={Link}  onClick={()=> dispatch({type : \"LOGOUT\" , payload : {}})}/>\r\n        </div>\r\n      }\r\n            </Tabs>\r\n          </Paper>\r\n </Box>\r\n\r\n{ location.pathname=='/main' &&\r\n<div>\r\n  <ImageList cols={3}  >\r\n      {movies.map((item) => (\r\n        <ImageListItem key={item._id}>\r\n          <img \r\n            src={`${item.Image}?w=164&h=164&fit=crop&auto=format`}\r\n            srcSet={`${item.Image}?w=164&h=164&fit=crop&auto=format&dpr=2 2x`}\r\n            alt={item.Name}\r\n            loading=\"lazy\"\r\n          />\r\n        </ImageListItem>\r\n      ))}\r\n    </ImageList>\r\n    </div>\r\n}\r\n\r\n\r\n\r\n\r\n    <Switch>\r\n            <Route exact path=\"/\" component={LoginComp} />\r\n            <Route path=\"/login\" component={LoginComp} />\r\n            <Route path=\"/CreateAccount\" component={CreateAccountComp} />\r\n            <Route path=\"/movies\" component={AllMoviesComp} />\r\n            <Route path=\"/members\" component={AllMembersComp} />\r\n            <Route path=\"/member/:id\" component={MemberComp} />\r\n            <Route path=\"/movie/:id\" component={MovieComp} />\r\n            <Route path=\"/users\" component={AllUsersComp} />\r\n        </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainComp;\r\n","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\AllMembers.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\AllMovies.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\moviesUtils.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\Movie.js",["81"],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\Member.js",["82"],"import { useState, useEffect } from 'react'\r\nimport memberUtils from '../utils/membersUtils'\r\nimport { useSelector } from \"react-redux\";\r\nimport subscriptionsUtils from '../utils/subscriptionsUtils'\r\nimport moviesUtils from '../utils/moviesUtils'\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Input from '@mui/material/Input';\r\nimport Container from '@mui/material/Container';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport MovieCreationTwoToneIcon from '@mui/icons-material/MovieCreationTwoTone';\r\n\r\nconst MemberComp = (props) => {\r\n  const [member, setMember] = useState({})\r\n  const [movie, setMovie] = useState({})\r\n  const [movies, setMovies] = useState([])\r\n  const [watchedMovies, setWatchedMovies] = useState([])\r\n  const [editMember, setEditMember] = useState(false)\r\n  const [subscribe, setSubscribe] = useState(false)\r\n  const [updatedMember, setUpdatedMember] = useState({})\r\n  const permissions = useSelector((state) => state.user.Permissions)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n\r\n      if (props.member) {\r\n        setMember(props.member);\r\n      }\r\n      else {\r\n        let member = await memberUtils.getMember(props.match.params.id);\r\n        setMember(member)\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [props])\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let allMovies = await moviesUtils.allMovies();\r\n      setMovies(allMovies)\r\n\r\n      let id = props.member ? props.member._id : props.match.params.id\r\n      let MoviesWatched = await subscriptionsUtils.getSubscriptionsByMember(id);\r\n      setWatchedMovies(MoviesWatched)\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (props.member) {\r\n        setMember(props.member);\r\n      }\r\n      else {\r\n        let member = await memberUtils.getMember(props.match.params.id);\r\n        setMember(member)\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [props])\r\n\r\n  const deleteMember = async () => {\r\n    let id = props.member ? props.member._id : props.match.params.id\r\n    return await memberUtils.deleteMember(id);\r\n  }\r\n\r\n  const updateMember = async () => {\r\n    await memberUtils.EditMember(props.member._id, updatedMember);\r\n    setEditMember(!editMember)\r\n  }\r\n\r\n  const Subscribe = async () => {\r\n    let subscription = {\r\n      MemberId: member._id,\r\n      Movies: { \"movieId\": movie.id, \"date\": movie.date }\r\n    }\r\n    await subscriptionsUtils.AddSubscriptions(subscription);\r\n    setSubscribe(!subscribe)\r\n  }\r\n\r\n  const getMovieName = (id) => {\r\n    let movieData = movies.filter(x => x._id === id);\r\n    return movieData[0].Name;\r\n  }\r\n\r\n  return (\r\n    <Card >\r\n\r\n      <CardContent>\r\n        <div style={{ width: \"400px\", borderWidth: \"3px\", borderStyle: \"solid\", borderColor: \"gray\" }}>\r\n          <Typography gutterBottom component=\"div\">\r\n            Name : {member.Name} <br />\r\n            Email : {member.Email} <br />\r\n            City : {member.City} <br />\r\n          </Typography>\r\n\r\n\r\n          <Container component=\"span\" sx={{ p: 2, border: '1px dashed grey' }}>\r\n            <h4> Movies Watched : </h4>\r\n            {watchedMovies.length > 0 &&\r\n              <ul>\r\n                {watchedMovies.map((item) => {\r\n                  return <div key={item._id}>\r\n                    <MovieCreationTwoToneIcon/>\r\n                    <Link  to={\"/movie/\" + item.Movies.movieId} >\r\n                      {getMovieName(item.Movies.movieId)}\r\n                    </Link>,\r\n                    {item.Movies.date} </div>\r\n                })}\r\n\r\n              </ul>\r\n            }\r\n            <Button variant=\"contained\" size=\"small\" color=\"success\" onClick={e => setSubscribe(!subscribe)}>\r\n              Subscribe to new movie\r\n            </Button>\r\n              <br/>\r\n            {subscribe &&\r\n              <Container component=\"span\" sx={{ p: 2, border: '1px dashed grey' }}>\r\n\r\n                Movie :\r\n                <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 120 }}>\r\n                <Select\r\n                 labelId=\"demo-simple-select-label\"\r\n                 id=\"demo-simple-select\"\r\n                  value={movie.Name}\r\n                  label=\"Movie\"\r\n                  onChange={e => setMovie({ ...movie, id: e.target.value })}\r\n                >     \r\n                {movies.map((item) => {\r\n                    return <MenuItem key={item._id} value={item._id} >{item.Name} </MenuItem>\r\n                  })} \r\n                </Select>\r\n                </FormControl> <br/>\r\n                Date : <Input required type=\"date\" name=\"Date\"  onChange={e => setMovie({ ...movie, date: e.target.value })} /><br />\r\n               <br/>\r\n                <Button size=\"small\" color=\"success\" variant=\"outlined\" onClick={Subscribe}>Subscribe</Button>              \r\n                  <Button variant=\"outlined\" color=\"inherit\" size=\"small\" onClick={e => setSubscribe(!subscribe)}>Cancel</Button>\r\n              </Container>\r\n            }\r\n          </Container>\r\n\r\n          <CardActions>\r\n            {permissions.includes(\"Update Subscriptions\") &&\r\n              <div>\r\n                <Button size=\"small\" variant=\"outlined\" onClick={e => setEditMember(!editMember)}>Edit</Button>\r\n              </div>\r\n            }\r\n            {permissions.includes(\"Delete Subscriptions\") &&\r\n              <div>\r\n                <Button size=\"small\" variant=\"outlined\" color=\"error\" onClick={deleteMember}>Delete</Button>\r\n              </div>\r\n            }\r\n          </CardActions>\r\n          <div>\r\n            {editMember &&\r\n              <div style={{ width: \"300px\", borderWidth: \"3px\", borderStyle: \"solid\", borderColor: \"darkGray\" }}>\r\n                Name : <Input name=\"Name\" defaultValue={member.Name} onChange={e => setUpdatedMember({ ...updatedMember, Name: e.target.value })} /> <br />\r\n                Email : <Input name=\"Email\" defaultValue={member.Email} onChange={e => setUpdatedMember({ ...updatedMember, Email: e.target.value })} /><br />\r\n                City : <Input name=\"City\" defaultValue={member.City} onChange={e => setUpdatedMember({ ...updatedMember, City: e.target.value })} /><br />\r\n                <Button size=\"small\" color=\"success\" variant=\"outlined\" onClick={updateMember}>Save</Button>\r\n                <Button size=\"small\" variant=\"outlined\" color=\"inherit\" onClick={e => setEditMember(!editMember)} >Cencel</Button>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default MemberComp;","C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\membersUtils.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\loginUtils.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\UsersManagement.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\User.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\UsersUtils.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\appReducer.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\utils\\subscriptionsUtils.js",[],"C:\\Users\\User\\FullStack\\fullStack1\\fullstack\\src\\views\\CreateAccount.js",[],{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","severity":1,"message":"88","line":44,"column":5,"nodeType":"89","endLine":44,"endColumn":16,"suggestions":"90"},{"ruleId":"91","severity":1,"message":"92","line":81,"column":20,"nodeType":"93","messageId":"94","endLine":81,"endColumn":22},{"ruleId":"87","severity":1,"message":"95","line":33,"column":6,"nodeType":"89","endLine":33,"endColumn":8,"suggestions":"96"},{"ruleId":"87","severity":1,"message":"97","line":53,"column":6,"nodeType":"89","endLine":53,"endColumn":8,"suggestions":"98"},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array. You can also do a functional update 'setUser(u => ...)' if you only need 'user' in the 'setUser' call.","ArrayExpression",["101"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'props.match.params.id' and 'props.movie'. Either include them or remove the dependency array.",["102"],"React Hook useEffect has missing dependencies: 'props.match.params.id' and 'props.member'. Either include them or remove the dependency array.",["103"],"no-global-assign","no-unsafe-negation",{"desc":"104","fix":"105"},{"desc":"106","fix":"107"},{"desc":"108","fix":"109"},"Update the dependencies array to be: [storeData, user]",{"range":"110","text":"111"},"Update the dependencies array to be: [props.match.params.id, props.movie]",{"range":"112","text":"113"},"Update the dependencies array to be: [props.match.params.id, props.member]",{"range":"114","text":"115"},[1454,1465],"[storeData, user]",[1441,1443],"[props.match.params.id, props.movie]",[1970,1972],"[props.match.params.id, props.member]"]